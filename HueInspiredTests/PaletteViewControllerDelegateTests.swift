//
//  PaletteViewControllerDelegateTests.swift
//  HueInspired
//
//  Created by Ashley Arthur on 11/07/2017.
//  Copyright Â© 2017 AshArthur. All rights reserved.
//

import XCTest
import PromiseKit
@testable import HueInspired


// Need to both delegates

class PaletteViewControllerDelegateTests: XCTestCase {
    
    // Mark: willPresentDetail
    
//    func test_willPresentDetail() {
//        // delegate should setup destination view controller with required data source
//        // This test makes sure that result of factory gets assigned to detail VC
//        
//        // SETUP
//        let vc = MockPaletteViewController.init()
//        let detailVC = MockDetailViewController()
//        let delegate = CoreDataPaletteTableViewControllerDelegate.init(factory: {
//            return MockDataSource.init(testData: [$0 as! UserOwnedPalette])
//        })
//        
//        // TEST
//        try? delegate.willPresentDetail(viewController: vc, detail: detailVC, palette:ImmutablePalette.init(name: "foo", colorData: [], image: nil, guid: nil))
//        
//        // POSTCONDITION
//        // Detail view data should be based on mock palette
//        XCTAssertEqual(detailVC.dataSource?.getElement(at: 0, section: 0)?.name, "foo")
//        
//    }
//    
//    // Mark: didPullRefresh
//    
//    func test_didPullRefresh_resetDisplayState (){
//        // delegate should reset state of activity to final once its ready to return
//        
//        // SETUP
//        let vc = MockPaletteViewController.init()
//        let delegate = CoreDataPaletteTableViewControllerDelegate.init(factory: {_ in 
//            return nil
//        })
//        vc.currentDisplayState = .pending
//        
//        // TEST
//        delegate.didPullRefresh(viewController: vc)
//        
//        // POSTCONDITION
//        XCTAssertEqual(vc.currentDisplayState, .final) 
//        
//        
//    }

    
}
